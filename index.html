<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Listado de utilies</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">      
        <link rel="stylesheet" href="main.css">
    </head>
        <body>
            <div class="container">
                    <div id="lista-compras">
                        
                        <div class="hrader">
                             <h1> {{ header.toLocaleUpperCase()}} </h1>
                            <button v-if="estado === 'default'" class="btn btn-primary" @click="cambiarEstado('edit')" >Agregar</button>
                            <button v-else class="btn btn-cancel" @click="cambiarEstado('default')">Cancelar</button>
                        </div>
                        
                        <div v-if="estado ==='edit'">
                            <input type="text" placeholder="Agregar nuevo" v-model="newUtil" @keyup.enter="guardarElemento">
                            <p>{{cantidadCaracteres}}/200 </p>
                            <button class="btn btn-primary" :disabled="newUtil.length === 0" @click="guardarElemento" >Guardar</button>
                            
                        </div>
                       <!-- <a v-bind:href="newUtil"  target="_blank">Enlace dinamico </a> -->
                        <ul>
                            <li v-for="ele in listaReversa" :class="{tachado : ele.comprado}" @click="cambiarEstadocompra(ele)">
                                    {{ele.util}}
                            </li>    
                        </ul>
                        <P  v-if="utiles.length  == 0">No existe elementos en la lista</P>    

                </div>
           </div> 


            <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.14/vue.min.js"></script>-->
            <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>

            <script>
                var app = new Vue({
                      el:'#lista-compras',
                      data:{
                         header: 'Lista de Utiles',
                         newUtil:'',
                         estado:'default',
                         utiles:[{
                                  util :'10 Cuaderno',
                                  comprado :true
                                },
                                {
                                  util :'15 lápices',
                                  comprado :true
                                },
                                {
                                  util :'5 cajas de colores',
                                  comprado :false
                                },    

                            
                              //  '10 cuaderno',
                              //  '15 lápices',
                              //  '5 cajas de colores'
                         ]   
                      },
                      computed:{
                            cantidadCaracteres: function(){
                                return this.newUtil.length;
                            },
                            listaReversa: function(){
                                return this.utiles.slice(0).reverse();
                            }
                      },
                      methods:{
                            guardarElemento: function(){
                                    this.utiles.push({
                                            util: this.newUtil,
                                            comprado:false

                                    });
                                    this.newUtil='';
                                    

                            },
                            cambiarEstado: function(newEstado){
                                    this.estado=newEstado;
                                    this.newUtil ='';

                            },
                            cambiarEstadocompra(util){
                                util.comprado=!util.comprado;


                            }



                      }  



                }
                
                );


            </script>
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
            <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>    
            

        </body>

</html>    